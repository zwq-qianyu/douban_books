2018-06-28 11:31:28 [scrapy.utils.log] INFO: Scrapy 1.5.0 started (bot: slave)
2018-06-28 11:31:28 [scrapy.utils.log] INFO: Versions: lxml 4.2.1.0, libxml2 2.9.8, cssselect 1.0.3, parsel 1.4.0, w3lib 1.19.0, Twisted 18.4.0, Python 3.6.4 (v3.6.4:d48ecebad5, Dec 18 2017, 21:07:28) - [GCC 4.2.1 (Apple Inc. build 5666) (dot 3)], pyOpenSSL 18.0.0 (OpenSSL 1.1.0h  27 Mar 2018), cryptography 2.2.2, Platform Darwin-17.6.0-x86_64-i386-64bit
2018-06-28 11:31:28 [scrapy.crawler] INFO: Overridden settings: {'BOT_NAME': 'slave', 'DUPEFILTER_CLASS': 'scrapy_redis.dupefilter.RFPDupeFilter', 'LOG_FILE': 'log.txt', 'NEWSPIDER_MODULE': 'slave.spiders', 'SCHEDULER': 'scrapy_redis.scheduler.Scheduler', 'SPIDER_MODULES': ['slave.spiders']}
2018-06-28 11:31:28 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2018-06-28 11:31:28 [bookdetail] INFO: Reading start URLs from redis key 'bookspider:start_urls' (batch size: 16, encoding: utf-8
2018-06-28 11:31:28 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'slave.middlewares.SlaveDownloaderMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2018-06-28 11:31:28 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2018-06-28 11:31:28 [scrapy.middleware] INFO: Enabled item pipelines:
['slave.pipelines.MysqlPipeline']
2018-06-28 11:31:28 [scrapy.core.engine] INFO: Spider opened
2018-06-28 11:31:28 [bookdetail] DEBUG: Resuming crawl (2 requests scheduled)
2018-06-28 11:31:28 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2018-06-28 11:31:28 [bookdetail] INFO: Spider opened: bookdetail
2018-06-28 11:31:28 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6024
2018-06-28 11:31:28 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/26262132/> (failed 1 times): Could not open CONNECT tunnel with proxy 60.169.6.150:8080 [{'status': 400, 'reason': b'Bad Request'}]
2018-06-28 11:31:28 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/24316409/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:31:34 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1200840/> (referer: None)
2018-06-28 11:31:34 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1200840/>
{'author': '\n            路遥',
 'binding': '平装',
 'id': '1200840',
 'imprint': '2005-1',
 'isbn': '9787020049295',
 'number': '109501',
 'original': '',
 'pages': '1631',
 'press': '人民文学出版社',
 'price': '64.00',
 'score': '9.0',
 'series': '茅盾文学奖获奖作品全集',
 'title': '平凡的世界（全三部）',
 'translator': ''}
2018-06-28 11:31:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1072260/> (referer: None)
2018-06-28 11:31:36 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1072260/>
{'author': '\n                [美]\n            周锡瑞',
 'binding': '平装',
 'id': '1072260',
 'imprint': '2005-07-01',
 'isbn': '9787214012692',
 'number': '444',
 'original': 'The Origins of the Boxer Uprising',
 'pages': '335',
 'press': '江苏人民出版社',
 'price': '32.00',
 'score': '8.4',
 'series': '海外中国研究丛书',
 'title': '义和团运动的起源',
 'translator': '张俊义、王栋'}
2018-06-28 11:31:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/25834602/> (referer: None)
2018-06-28 11:31:37 [bookdetail] DEBUG: Read 16 requests from 'bookspider:start_urls'
2018-06-28 11:31:37 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/25834602/>
{'author': '\n            茅海建',
 'binding': '平装',
 'id': '25834602',
 'imprint': '2014-3',
 'isbn': '9787532551958',
 'number': '175',
 'original': '',
 'pages': '572',
 'press': '上海古籍出版社',
 'price': '68.00',
 'score': '8.4',
 'series': '汉唐阳光人文图书',
 'title': '戊戌变法的另面',
 'translator': ''}
2018-06-28 11:31:38 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/3017954/> (referer: None)
2018-06-28 11:31:38 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26816955/> (referer: None)
2018-06-28 11:31:38 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/3017954/>
{'author': '杨国强',
 'binding': '平装',
 'id': '3017954',
 'imprint': '2008-04',
 'isbn': '9787108028624',
 'number': '202',
 'original': '',
 'pages': '419',
 'press': '三联书店',
 'price': '36.00',
 'score': '8.3',
 'series': '三联文史新论',
 'title': '晚清的士人与世相',
 'translator': ''}
2018-06-28 11:31:38 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26816955/>
{'author': '王建朗、黄克武',
 'binding': '平装',
 'id': '26816955',
 'imprint': '2016-6-1',
 'isbn': '9787509781982',
 'number': '78',
 'original': '',
 'pages': '1224',
 'press': '社会科学文献出版社',
 'price': '268.00',
 'score': '8.1',
 'series': '两岸新编中国近代史',
 'title': '两岸新编中国近代史·民国卷',
 'translator': ''}
2018-06-28 11:31:39 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/27065155/> (referer: None)
2018-06-28 11:31:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/27065155/>
{'author': '林孝庭',
 'binding': '平装',
 'id': '27065155',
 'imprint': '2017-5',
 'isbn': '9787510842375',
 'number': '53',
 'original': '',
 'pages': '320',
 'press': '九州出版社',
 'price': '58.00',
 'score': '8.9',
 'series': '',
 'title': '困守与反攻',
 'translator': ''}
2018-06-28 11:31:41 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/27032830/> (referer: None)
2018-06-28 11:31:41 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/27032830/>
{'author': '\n            刘夙',
 'binding': '平装',
 'id': '27032830',
 'imprint': '2017-4-1',
 'isbn': '9787030523327',
 'number': '28',
 'original': '',
 'pages': '298',
 'press': '科学出版社',
 'price': '48.00',
 'score': '8.0',
 'series': '大学科普丛书',
 'title': '万年的竞争',
 'translator': ''}
2018-06-28 11:31:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/24855510/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:31:42 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26262132/> (referer: None)
2018-06-28 11:31:42 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26262132/>
{'author': '\n            陆胤',
 'binding': '平装',
 'id': '26262132',
 'imprint': '2015-1-1',
 'isbn': '9787301241509',
 'number': '80',
 'original': '',
 'pages': '378',
 'press': '北京大学出版社',
 'price': '56.00',
 'score': '8.7',
 'series': '学术史丛书',
 'title': '政教存续与文教转型',
 'translator': ''}
2018-06-28 11:31:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1005047/> (referer: None)
2018-06-28 11:31:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1005047/>
{'author': '\n            R·麦克法奈尔、\n                [美]\n            费正清',
 'binding': '精装',
 'id': '1005047',
 'imprint': '1998-7-1',
 'isbn': '9787500407522',
 'number': '792',
 'original': '',
 'pages': '793',
 'press': '中国社会科学出版社',
 'price': '68.00',
 'score': '8.7',
 'series': '剑桥中国史',
 'title': '剑桥中华人民共和国史（上卷）',
 'translator': '谢亮生等'}
2018-06-28 11:31:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/24316409/> (referer: None)
2018-06-28 11:31:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/24316409/>
{'author': '\n            杨奎松',
 'binding': '平装',
 'id': '24316409',
 'imprint': '2013-5-1',
 'isbn': '9787549536306',
 'number': '1254',
 'original': '',
 'pages': '446',
 'press': '广西师范大学出版社',
 'price': '48.00',
 'score': '8.3',
 'series': '理想国·杨奎松作品',
 'title': '忍不住的“关怀”',
 'translator': ''}
2018-06-28 11:31:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/24855510/> (referer: None)
2018-06-28 11:31:45 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/24855510/>
{'author': '高馬可',
 'binding': '平装',
 'id': '24855510',
 'imprint': '2013-7',
 'isbn': '9789888263202',
 'number': '144',
 'original': 'A Concise History of Hong Kong',
 'pages': '329',
 'press': '香港中華書局',
 'price': '128.00',
 'score': '9.0',
 'series': '',
 'title': '香港簡史',
 'translator': '林立偉'}
2018-06-28 11:31:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26994650/> (referer: None)
2018-06-28 11:31:45 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26994650/>
{'author': '[美]艾格尼斯·凯斯',
 'binding': '平装',
 'id': '26994650',
 'imprint': '2017-2',
 'isbn': '9787108057891',
 'number': '15',
 'original': 'Three came home',
 'pages': '395',
 'press': '生活·读书·新知三联书店',
 'price': '45.00',
 'score': '9.3',
 'series': '艾格尼斯·凯斯作品集',
 'title': '万劫归来',
 'translator': '穆青'}
2018-06-28 11:31:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/27034364/> (referer: None)
2018-06-28 11:31:46 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/27034364/>
{'author': '聂敏里',
 'binding': '平装',
 'id': '27034364',
 'imprint': '2017-4-15',
 'isbn': '9787300238258',
 'number': '53',
 'original': '',
 'pages': '277',
 'press': '中国人民大学出版社',
 'price': '78.00',
 'score': '9.4',
 'series': '守望者',
 'title': '西方思想的起源',
 'translator': ''}
2018-06-28 11:32:28 [scrapy.extensions.logstats] INFO: Crawled 13 pages (at 13 pages/min), scraped 13 items (at 13 items/min)
2018-06-28 11:33:28 [scrapy.extensions.logstats] INFO: Crawled 13 pages (at 0 pages/min), scraped 13 items (at 0 items/min)
2018-06-28 11:34:28 [scrapy.extensions.logstats] INFO: Crawled 13 pages (at 0 pages/min), scraped 13 items (at 0 items/min)
2018-06-28 11:34:28 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/2147625/> (failed 2 times): User timeout caused connection failure: Getting https://book.douban.com/subject/2147625/ took longer than 180.0 seconds..
2018-06-28 11:34:28 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/6120786/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/6120786/ took longer than 180.0 seconds..
2018-06-28 11:34:28 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/25930094/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/25930094/ took longer than 180.0 seconds..
2018-06-28 11:34:28 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/27065108/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/27065108/ took longer than 180.0 seconds..
2018-06-28 11:34:28 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/6120786/> (failed 2 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:34:33 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/25930094/> (referer: None)
2018-06-28 11:34:33 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/25930094/>
{'author': '裴宜理 (Elizabeth J. Perry)',
 'binding': '平装',
 'id': '25930094',
 'imprint': '2014-7-1',
 'isbn': '9789888208067',
 'number': '90',
 'original': 'Anyuan: Mining China’s Revolutionary Tradition',
 'pages': '336',
 'press': '香港大學出版社',
 'price': '21.00',
 'score': '8.6',
 'series': '',
 'title': '安源',
 'translator': '閻小駿'}
2018-06-28 11:34:34 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/27065108/> (referer: None)
2018-06-28 11:34:34 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/27065108/>
{'author': '劉學銚',
 'binding': '平装',
 'id': '27065108',
 'imprint': '2017-6-20',
 'isbn': '9789863071402',
 'number': None,
 'original': '',
 'pages': '232',
 'press': '唐山出版',
 'price': '350',
 'score': '',
 'series': '',
 'title': '泛蒙古運動與內蒙古獨立1919-2010',
 'translator': ''}
2018-06-28 11:34:39 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/10443525/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/10443525/ took longer than 180.0 seconds..
2018-06-28 11:34:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/10443525/> (referer: None)
2018-06-28 11:34:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/10443525/>
{'author': '\n            宗泽亚',
 'binding': '平装',
 'id': '10443525',
 'imprint': '2012-4',
 'isbn': '9787510040498',
 'number': '527',
 'original': 'First Sino-Japanese War',
 'pages': '576',
 'press': '世界图书出版公司',
 'price': '60.00',
 'score': '8.6',
 'series': '',
 'title': '清日战争',
 'translator': ''}
2018-06-28 11:35:28 [scrapy.extensions.logstats] INFO: Crawled 16 pages (at 3 pages/min), scraped 16 items (at 3 items/min)
2018-06-28 11:36:28 [scrapy.extensions.logstats] INFO: Crawled 16 pages (at 0 pages/min), scraped 16 items (at 0 items/min)
2018-06-28 11:37:28 [scrapy.extensions.logstats] INFO: Crawled 16 pages (at 0 pages/min), scraped 16 items (at 0 items/min)
2018-06-28 11:37:28 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET https://book.douban.com/subject/2147625/> (failed 3 times): User timeout caused connection failure: Getting https://book.douban.com/subject/2147625/ took longer than 180.0 seconds..
2018-06-28 11:37:28 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET https://book.douban.com/subject/6120786/> (failed 3 times): User timeout caused connection failure: Getting https://book.douban.com/subject/6120786/ took longer than 180.0 seconds..
2018-06-28 11:37:28 [scrapy.core.scraper] ERROR: Error downloading <GET https://book.douban.com/subject/2147625/>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/twisted/python/failure.py", line 422, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/core/downloader/handlers/http11.py", line 351, in _cb_timeout
    raise TimeoutError("Getting %s took longer than %s seconds." % (url, timeout))
twisted.internet.error.TimeoutError: User timeout caused connection failure: Getting https://book.douban.com/subject/2147625/ took longer than 180.0 seconds..
2018-06-28 11:37:28 [scrapy.core.scraper] ERROR: Error downloading <GET https://book.douban.com/subject/6120786/>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/twisted/python/failure.py", line 422, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/core/downloader/handlers/http11.py", line 351, in _cb_timeout
    raise TimeoutError("Getting %s took longer than %s seconds." % (url, timeout))
twisted.internet.error.TimeoutError: User timeout caused connection failure: Getting https://book.douban.com/subject/6120786/ took longer than 180.0 seconds..
2018-06-28 11:37:28 [bookdetail] DEBUG: Read 16 requests from 'bookspider:start_urls'
2018-06-28 11:37:29 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1065051/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:37:29 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1393386/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:37:29 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1420501/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:37:30 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1068872/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:37:31 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1060196/> (referer: None)
2018-06-28 11:37:31 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1060196/>
{'author': '\n                [英]\n            布莱恩·麦基',
 'binding': '平装',
 'id': '1060196',
 'imprint': '2004-07',
 'isbn': '9787108021267',
 'number': '121',
 'original': '',
 'pages': '396',
 'press': '三联书店',
 'price': '24.00',
 'score': '8.8',
 'series': '文化生活译丛（新版）',
 'title': '思想家',
 'translator': '周穗明、翁寒松'}
2018-06-28 11:37:32 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1223943/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:37:32 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1506334/> (referer: None)
2018-06-28 11:37:32 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1945515/> (referer: None)
2018-06-28 11:37:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1506334/>
{'author': '\n                [丹麦]\n            索伦·克尔凯郭尔',
 'binding': '简裝本',
 'id': '1506334',
 'imprint': '2005-12',
 'isbn': '9787500453437',
 'number': '161',
 'original': 'Om Begrebet Ironi med stadigt Hensyn til Socrates',
 'pages': '298',
 'press': '中国社会科学出版社',
 'price': '38.00',
 'score': '9.1',
 'series': '克尔凯郭尔文集',
 'title': '论反讽概念',
 'translator': '汤晨溪'}
2018-06-28 11:37:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1945515/>
{'author': '[德]格奥尔格·西美尔',
 'binding': '平装',
 'id': '1945515',
 'imprint': '2006-12',
 'isbn': '9787532741526',
 'number': '35',
 'original': '',
 'pages': '241',
 'press': '上海译文出版社',
 'price': '19.00',
 'score': '8.3',
 'series': '西美尔文集',
 'title': '历史哲学问题——认识论随笔',
 'translator': '陈志夏'}
2018-06-28 11:37:32 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/3803268/> (referer: None)
2018-06-28 11:37:33 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/3803268/>
{'author': '\n                [英]\n            卡尔·波普尔',
 'binding': '平装',
 'id': '3803268',
 'imprint': '2009-7',
 'isbn': '9787208085954',
 'number': '745',
 'original': 'The Poverty of Historicism',
 'pages': '141',
 'press': '上海人民出版社',
 'price': '20.00',
 'score': '8.6',
 'series': '',
 'title': '历史决定论的贫困',
 'translator': '杜汝楫、邱仁宗'}
2018-06-28 11:37:33 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1068301/> (referer: None)
2018-06-28 11:37:33 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1393386/> (failed 2 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:37:33 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1068301/>
{'author': '(德)卡尔﹒曼海姆',
 'binding': '平装',
 'id': '1068301',
 'imprint': '2002-02',
 'isbn': '9787100026765',
 'number': '288',
 'original': '',
 'pages': '317',
 'press': '商务印书馆',
 'price': '19.00',
 'score': '8.5',
 'series': '汉译世界学术名著丛书·政治法律社会',
 'title': '意识形态与乌托邦',
 'translator': '黎鸣、李书崇'}
2018-06-28 11:37:36 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/25732544/> (referer: None)
2018-06-28 11:37:36 [scrapy.core.scraper] ERROR: Spider error processing <GET https://book.douban.com/subject/25732544/> (referer: None)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/tiramisu/Desktop/douban_books/slave/slave/spiders/bookdetail.py", line 38, in parse
    item['pages'] = re.search('<span.*?页数:</span>\s*([0-9]+)<br>',info).group(1) #页数
AttributeError: 'NoneType' object has no attribute 'group'
2018-06-28 11:37:36 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1065051/> (referer: None)
2018-06-28 11:37:37 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1065051/>
{'author': '\n            赵敦华',
 'binding': '平装16开',
 'id': '1065051',
 'imprint': '2001-1',
 'isbn': '9787301045107',
 'number': '1345',
 'original': '',
 'pages': '330',
 'press': '北京大学出版社',
 'price': '29.50',
 'score': '7.6',
 'series': '',
 'title': '西方哲学简史',
 'translator': ''}
2018-06-28 11:37:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/25900379/> (referer: None)
2018-06-28 11:37:37 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/25900379/>
{'author': '(英) 西蒙·莫尔帕斯',
 'binding': '平装',
 'id': '25900379',
 'imprint': '2014-8',
 'isbn': '9787562482314',
 'number': '99',
 'original': 'Jean-François Lyotard',
 'pages': '188',
 'press': '拜德雅丨重庆大学出版社',
 'price': '25.00',
 'score': '8.3',
 'series': '思想家和思想导读丛书',
 'title': '导读利奥塔',
 'translator': '孔锐才'}
2018-06-28 11:37:38 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26609146/> (referer: None)
2018-06-28 11:37:38 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26609146/>
{'author': '[法] 米歇尔·福柯、汪民安 编',
 'binding': '精装',
 'id': '26609146',
 'imprint': '2015-11-1',
 'isbn': '9787301263044',
 'number': '172',
 'original': '',
 'pages': '423',
 'press': '北京大学出版社',
 'price': '45.00',
 'score': '9.4',
 'series': '福柯文选',
 'title': '自我技术',
 'translator': '汪民安 编'}
2018-06-28 11:37:40 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1068872/> (failed 2 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:37:40 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (302) to <GET https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F1393386%2F> from <GET https://book.douban.com/subject/1393386/>
2018-06-28 11:37:42 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1068872/> (referer: None)
2018-06-28 11:37:42 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1068872/>
{'author': '[英]约翰・斯特罗克',
 'binding': '平装',
 'id': '1068872',
 'imprint': '1998-03',
 'isbn': '9787538250206',
 'number': '133',
 'original': 'Structuralism and Since：From Lévi-Strauss to Derrida',
 'pages': '223',
 'press': '辽宁教育出版社',
 'price': '14.50',
 'score': '8.2',
 'series': '牛津精选',
 'title': '结构主义以来：从列维-斯特劳斯到德里达',
 'translator': '渠东、李康、李猛'}
2018-06-28 11:38:28 [scrapy.extensions.logstats] INFO: Crawled 26 pages (at 10 pages/min), scraped 25 items (at 9 items/min)
2018-06-28 11:38:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26673158/> (referer: None)
2018-06-28 11:38:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26673158/>
{'author': '[德] 卡尔·洛维特',
 'binding': '精装',
 'id': '26673158',
 'imprint': '2015-11-1',
 'isbn': '9787560437613',
 'number': '25',
 'original': 'Heidegger - Denker in dürftiger Zeit. Zur Stellung der '
             'Philosophie im 20. Jahrhundert',
 'pages': '428',
 'press': '西北大学出版社',
 'price': '69.00',
 'score': '8.4',
 'series': '精神译丛',
 'title': '海德格尔——贫困时代的思想家',
 'translator': '彭超'}
2018-06-28 11:38:51 [scrapy.core.engine] DEBUG: Crawled (403) <GET https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F1393386%2F> (referer: None)
2018-06-28 11:38:51 [scrapy.spidermiddlewares.httperror] INFO: Ignoring response <403 https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F1393386%2F>: HTTP status code is not handled or not allowed
2018-06-28 11:39:28 [scrapy.extensions.logstats] INFO: Crawled 28 pages (at 2 pages/min), scraped 26 items (at 1 items/min)
2018-06-28 11:40:28 [scrapy.extensions.logstats] INFO: Crawled 28 pages (at 0 pages/min), scraped 26 items (at 0 items/min)
2018-06-28 11:40:29 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1467300/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/1467300/ took longer than 180.0 seconds..
2018-06-28 11:40:30 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1467300/> (failed 2 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:40:30 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/4882100/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/4882100/ took longer than 180.0 seconds..
2018-06-28 11:40:33 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1420501/> (failed 2 times): User timeout caused connection failure: Getting https://book.douban.com/subject/1420501/ took longer than 180.0 seconds..
2018-06-28 11:40:33 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/4882100/> (referer: None)
2018-06-28 11:40:34 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/4882100/>
{'author': '(英) 贝克莱',
 'binding': '平装',
 'id': '4882100',
 'imprint': '2010-11',
 'isbn': '9787100071970',
 'number': '181',
 'original': 'A Treatise Concerning the Principles of Human Knowledge',
 'pages': '106',
 'press': '商务印书馆',
 'price': '11.00',
 'score': '8.8',
 'series': '汉译世界学术名著丛书·哲学',
 'title': '人类知识原理',
 'translator': '关文运'}
2018-06-28 11:40:36 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1467300/> (referer: None)
2018-06-28 11:40:36 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1467300/>
{'author': '\n                [法]\n            亚历山大·科耶夫',
 'binding': '平装',
 'id': '1467300',
 'imprint': '2005-12',
 'isbn': '9787806578933',
 'number': '150',
 'original': 'Introduction à la lecture de Hegel',
 'pages': '722',
 'press': '译林出版社',
 'price': '45.00',
 'score': '8.4',
 'series': '人文与社会译丛',
 'title': '黑格尔导读',
 'translator': '姜志辉'}
2018-06-28 11:40:36 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1223943/> (failed 2 times): User timeout caused connection failure: Getting https://book.douban.com/subject/1223943/ took longer than 180.0 seconds..
2018-06-28 11:40:37 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1420501/> (referer: None)
2018-06-28 11:40:37 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1420501/>
{'author': '（英）迈克尔・达米特',
 'binding': '平装',
 'id': '1420501',
 'imprint': '2005-7',
 'isbn': '9787532737468',
 'number': '78',
 'original': '',
 'pages': '220',
 'press': '上海译文出版社',
 'price': '18.00',
 'score': '8.6',
 'series': '二十世纪西方哲学译丛（新版）',
 'title': '分析哲学的起源',
 'translator': '\n            王路'}
2018-06-28 11:40:41 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1223943/> (referer: None)
2018-06-28 11:40:41 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1223943/>
{'author': '\n                [法]\n            雅克·拉康',
 'binding': '精装',
 'id': '1223943',
 'imprint': '2001-1',
 'isbn': '9787542614957',
 'number': '242',
 'original': '',
 'pages': '648',
 'press': '上海三联出版社',
 'price': '46.00',
 'score': '7.7',
 'series': '20世纪人类思想家文库',
 'title': '拉康选集',
 'translator': '褚孝泉'}
2018-06-28 11:40:41 [bookdetail] DEBUG: Read 16 requests from 'bookspider:start_urls'
2018-06-28 11:40:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1799735/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:40:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1033071/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:40:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1768046/> (failed 1 times): Could not open CONNECT tunnel with proxy 60.169.6.150:8080 [{'status': 400, 'reason': b'Bad Request'}]
2018-06-28 11:40:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/10447495/> (referer: None)
2018-06-28 11:40:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/10447495/>
{'author': 'Giles MacDonogh',
 'binding': 'Paperback',
 'id': '10447495',
 'imprint': '2011-5-10',
 'isbn': '9780465022052',
 'number': '107',
 'original': '',
 'pages': '352',
 'press': 'Basic Books',
 'price': '16.99',
 'score': '9.4',
 'series': '',
 'title': '1938',
 'translator': ''}
2018-06-28 11:40:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/10748231/> (referer: None)
2018-06-28 11:40:45 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/25771895/> (failed 1 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:40:45 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/10748231/>
{'author': '\n                [德]\n            马丁·海德格尔',
 'binding': '平装',
 'id': '10748231',
 'imprint': '2012-5',
 'isbn': '9787100088015',
 'number': '96',
 'original': 'Beiträge zur Philosophie (Vom Ereignis)',
 'pages': '586',
 'press': '商务印书馆',
 'price': '42.00',
 'score': '9.2',
 'series': '中国现象学文库·现象学原典译丛',
 'title': '哲学论稿',
 'translator': '孙周兴'}
2018-06-28 11:40:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26801249/> (referer: None)
2018-06-28 11:40:46 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26801249/>
{'author': '比尔•耶讷',
 'binding': '平装',
 'id': '26801249',
 'imprint': '2016-6-1',
 'isbn': '9787229110475',
 'number': None,
 'original': '',
 'pages': '276',
 'press': '重庆出版社,重庆出版集团',
 'price': '42.00',
 'score': '',
 'series': '',
 'title': '最伟大的一周：六天改变二战进程',
 'translator': '吴冬'}
2018-06-28 11:40:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/25731642/> (referer: None)
2018-06-28 11:40:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/25731642/>
{'author': '\n                [英]\n            肯·福莱特',
 'binding': '平装',
 'id': '25731642',
 'imprint': '2013-12-1',
 'isbn': '9787539965871',
 'number': '273',
 'original': 'Hornet Flight',
 'pages': '400',
 'press': '江苏文艺出版社',
 'price': '39.90',
 'score': '7.4',
 'series': '读客全球顶级畅销小说文库：肯·福莱特作品',
 'title': '大黄蜂奇航',
 'translator': '张雅楠'}
2018-06-28 11:41:28 [scrapy.extensions.logstats] INFO: Crawled 36 pages (at 8 pages/min), scraped 34 items (at 8 items/min)
2018-06-28 11:42:02 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/26908213/> (failed 1 times): TCP connection timed out: 60: Operation timed out.
2018-06-28 11:42:06 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1799735/> (referer: None)
2018-06-28 11:42:06 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1033071/> (failed 2 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:42:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1799735/>
{'author': '\n            邓晓芒',
 'binding': '平装',
 'id': '1799735',
 'imprint': '2006-1',
 'isbn': '9787301106136',
 'number': '360',
 'original': '',
 'pages': '241',
 'press': '北京大学出版社',
 'price': '16.00',
 'score': '8.3',
 'series': '未名讲坛',
 'title': '邓晓芒讲黑格尔',
 'translator': ''}
2018-06-28 11:42:06 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1768046/> (failed 2 times): Could not open CONNECT tunnel with proxy 60.169.6.150:8080 [{'status': 400, 'reason': b'Bad Request'}]
2018-06-28 11:42:08 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/2245468/> (failed 1 times): Could not open CONNECT tunnel with proxy 115.46.97.147:8123 [{'status': 504, 'reason': b'Host book.douban.com lookup fai'}]
2018-06-28 11:42:08 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/2343046/> (failed 1 times): Could not open CONNECT tunnel with proxy 115.46.97.147:8123 [{'status': 504, 'reason': b'Host book.douban.com lookup fai'}]
2018-06-28 11:42:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/25771895/> (referer: None)
2018-06-28 11:42:10 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET https://book.douban.com/subject/1768046/> (failed 3 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:42:10 [scrapy.core.scraper] ERROR: Spider error processing <GET https://book.douban.com/subject/25771895/> (referer: None)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/tiramisu/Desktop/douban_books/slave/slave/spiders/bookdetail.py", line 38, in parse
    item['pages'] = re.search('<span.*?页数:</span>\s*([0-9]+)<br>',info).group(1) #页数
AttributeError: 'NoneType' object has no attribute 'group'
2018-06-28 11:42:10 [scrapy.core.scraper] ERROR: Error downloading <GET https://book.douban.com/subject/1768046/>: Connection was refused by other side: 61: Connection refused.
2018-06-28 11:42:14 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1033071/> (referer: None)
2018-06-28 11:42:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1033071/>
{'author': '（美）基伯尼',
 'binding': '平装',
 'id': '1033071',
 'imprint': '2003-01',
 'isbn': '9787801096494',
 'number': '80',
 'original': '',
 'pages': '380',
 'press': '中央编译出版社',
 'price': '23.00',
 'score': '8.2',
 'series': '',
 'title': '战争',
 'translator': '尚蔚/史禾'}
2018-06-28 11:42:17 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (302) to <GET https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F2343046%2F> from <GET https://book.douban.com/subject/2343046/>
2018-06-28 11:42:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26908213/> (referer: None)
2018-06-28 11:42:19 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26908213/>
{'author': '\n                [法]\n            阿尔贝·加缪',
 'binding': '精装',
 'id': '26908213',
 'imprint': '2017-1',
 'isbn': '9787544763219',
 'number': '107',
 'original': '',
 'pages': '436',
 'press': '译林出版社',
 'price': '42.80',
 'score': '9.2',
 'series': '加缪全集',
 'title': '西西弗神话',
 'translator': '丁世中、沈世明、吕永真'}
2018-06-28 11:42:21 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/2245468/> (referer: None)
2018-06-28 11:42:21 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/2245468/>
{'author': '\n                [美]\n            张纯如',
 'binding': '平装',
 'id': '2245468',
 'imprint': '2007-8',
 'isbn': '9787506029001',
 'number': '1858',
 'original': '',
 'pages': '313',
 'press': '东方出版社',
 'price': '28.00',
 'score': '9.3',
 'series': '',
 'title': '南京浩劫',
 'translator': '杨夏鸣'}
2018-06-28 11:42:28 [scrapy.extensions.logstats] INFO: Crawled 41 pages (at 5 pages/min), scraped 38 items (at 4 items/min)
2018-06-28 11:43:28 [scrapy.extensions.logstats] INFO: Crawled 41 pages (at 0 pages/min), scraped 38 items (at 0 items/min)
2018-06-28 11:43:32 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F2343046%2F> (failed 2 times): TCP connection timed out: 60: Operation timed out.
2018-06-28 11:43:33 [scrapy.core.engine] DEBUG: Crawled (403) <GET https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F2343046%2F> (referer: None)
2018-06-28 11:43:34 [scrapy.spidermiddlewares.httperror] INFO: Ignoring response <403 https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F2343046%2F>: HTTP status code is not handled or not allowed
2018-06-28 11:43:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/1059491/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/1059491/ took longer than 180.0 seconds..
2018-06-28 11:43:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/2043893/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/2043893/ took longer than 180.0 seconds..
2018-06-28 11:43:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/3329793/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/3329793/ took longer than 180.0 seconds..
2018-06-28 11:43:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/5318879/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/5318879/ took longer than 180.0 seconds..
2018-06-28 11:43:41 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/2043893/> (failed 2 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:43:44 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (302) to <GET https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F5318879%2F> from <GET https://book.douban.com/subject/5318879/>
2018-06-28 11:43:45 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/1059491/> (referer: None)
2018-06-28 11:43:45 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/1059491/>
{'author': '(日)阿川弘之',
 'binding': '平装',
 'id': '1059491',
 'imprint': '1987-11',
 'isbn': '9787506502320',
 'number': '90',
 'original': '',
 'pages': '665',
 'press': '解放军出版社',
 'price': '12.60',
 'score': '8.4',
 'series': '外国著名军事人物丛书',
 'title': '山本五十六',
 'translator': '朱金/等'}
2018-06-28 11:43:47 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/26961110/> (failed 1 times): User timeout caused connection failure: Getting https://book.douban.com/subject/26961110/ took longer than 180.0 seconds..
2018-06-28 11:43:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://book.douban.com/subject/26961110/> (referer: None)
2018-06-28 11:43:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://book.douban.com/subject/26961110/>
{'author': '[俄] 玛丽·瓦西里奇科夫',
 'binding': '精装',
 'id': '26961110',
 'imprint': '2018-1',
 'isbn': '9787208143104',
 'number': '56',
 'original': '',
 'pages': '454',
 'press': '世纪文景/上海人民出版社',
 'price': '69',
 'score': '8.6',
 'series': '',
 'title': '柏林记忆',
 'translator': '唐嘉慧'}
2018-06-28 11:43:52 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET https://book.douban.com/subject/3329793/> (failed 2 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:43:52 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET https://book.douban.com/subject/3329793/> (failed 3 times): Connection was refused by other side: 61: Connection refused.
2018-06-28 11:43:52 [scrapy.core.scraper] ERROR: Error downloading <GET https://book.douban.com/subject/3329793/>: Connection was refused by other side: 61: Connection refused.
2018-06-28 11:43:54 [scrapy.core.engine] DEBUG: Crawled (403) <GET https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F5318879%2F> (referer: None)
2018-06-28 11:43:54 [scrapy.spidermiddlewares.httperror] INFO: Ignoring response <403 https://sec.douban.com/b?r=https%3A%2F%2Fbook.douban.com%2Fsubject%2F5318879%2F>: HTTP status code is not handled or not allowed
2018-06-28 11:44:28 [scrapy.extensions.logstats] INFO: Crawled 45 pages (at 4 pages/min), scraped 40 items (at 2 items/min)
2018-06-28 11:45:16 [scrapy.crawler] INFO: Received SIG_UNBLOCK, shutting down gracefully. Send again to force 
2018-06-28 11:45:16 [scrapy.core.engine] INFO: Closing spider (shutdown)
2018-06-28 11:45:17 [scrapy.crawler] INFO: Received SIG_UNBLOCK twice, forcing unclean shutdown
